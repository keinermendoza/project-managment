{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- alpine -->
    <script defer src="{% static 'js/alpine.js' %}"></script>

    <!-- Sweet Alert -->
    <script defer src="{% static 'js/sweetAlert.js' %}"></script>
   

    <!-- htmx -->
    <script src="{% static 'js/htmx.js' %}"></script>

    <!-- tailwind -->
    <link rel="stylesheet" href="{% static 'tailwind/tail.css' %}">

     <!-- alpine store  -->
     <script src="{% static 'progress/js/alpinestore.js' %}"></script>
    
    <title>Managment - {% block title %}{% endblock title %}</title>
</head>

<body class="relative min-h-screen mx-auto bg-slate-200"
    hx-boost="true"
    x-init="$store.section.updateActive('{{active_section}}')">
    

    <header class="w-full sticky top-0 z-10 bg-sky-700">
        <div class="max-w-[2000px] mx-auto flex justify-between content-center p-2 lg:p-5"
            x-data="{openMobile : false}">

            <!-- brand -->
            <h1 class="grid place-content-center font-semibold text-xl">Progress</h1>

            <!-- sections visible md/lg -->
            <nav class="relative d-none md:flex lg:hidden text-sm content-center  justify-around gap-2 p-2 ps-10 border-2 border-solid border-slate-300 rounded-md">
                <span class="absolute left-[-30px] bg-sky-700 text-slate-300 font-semibold py-2 self-center ">Projects</span>
               
                {% include "progress/snippets/btn_section.html" with section_name="all"  %}
                {% include "progress/snippets/btn_section.html" with section_name="public"  %}
                {% include "progress/snippets/btn_section.html" with section_name="private"  %}
            </nav>

            <!-- register and login btns visible from md -->
            <nav class="d-none md:flex self-center text-sm gap-2">

                <!-- HOME visible only md/lg -->
                <a class="d-none md:flex border-solid border-2 lg:hidden p-2 rounded bg-sky-400"
                :class="{'bg-yellow-500  border-yellow-300' : $store.section.isActive('home')}"
                @click="$store.section.updateActive('home')"
                hx-target="#main"
                hx-push-url="true"
                href="{% url 'progress:projects_home' %}"
                >Home</a>

                <a class="p-2 rounded bg-sky-400">Register</a>
                <a class="p-2 rounded bg-sky-400">Login</a>
                </ul>
            </nav>

            <!-- mobile btn visible until md -->
            <!-- ALPINE handle mobile menu using object openMobile  -->
            <button class="md:hidden p-2 rounded bg-sky-400 hover:bg-sky-500"
                @click="openMobile = ! openMobile"
                @click.outside="openMobile = false"
                x-on:resize.window="openMobile = false">

                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="14" viewBox="0 0 448 512">
                    <path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/>
                </svg>
            </button>

            <!-- mobile menu cover all the page when active -->
            <section id="mobile-menu"
                class="d-none fixed left-0 top-[47px] overflow-hidden  bg-opacity-70 bg-sky-600 w-full text-5xl 
                        flex-col justify-center origin-top animate-open-menu"
                
                :class="{'flex' : openMobile, 'd-none' : !openMobile}">
            
                <nav aria-label="mobile" 
                    class=" flex flex-col min-h-screen items-center py-8">
                    
                    {% include "progress/snippets/btn_section.html" with section_name="home" mb_2=True strprojects=True %}
                    {% include "progress/snippets/btn_section.html" with section_name="all" mb_2=True strprojects=True %}
                    {% include "progress/snippets/btn_section.html" with section_name="public" mb_2=True strprojects=True %}
                    {% include "progress/snippets/btn_section.html" with section_name="private" mb_2=False strprojects=True %}
                 
                </nav>

            </section>
        </div>
    </header>
    
    <main class="max-w-[2000px] mx-auto px-2 mt-6" >

        <!-- left ASIDE navbar visible from lg -->
        <aside class="sticky top-[84px] float-left d-none lg:block w-[350px] mt-[-1rem] mr-5 bg-sky-700 rounded p-2">
            <nav class="flex flex-col content-center text-sm xl:text-xl">

                <h2 class="text-2xl font-semibold text-slate-100  my-2">Sections</h2>
                
                {% include "progress/snippets/btn_section.html" with section_name="home" mb_2=True %}
                {% include "progress/snippets/btn_section.html" with section_name="all" mb_2=True strprojects=True %}
                {% include "progress/snippets/btn_section.html" with section_name="public" mb_2=True strprojects=True %}
                {% include "progress/snippets/btn_section.html" with section_name="private" mb_2=False strprojects=True %}
                
            </nav>
                
        </aside>

        <!-- main content --> 
        <div class="w-auto pt-2 pb-14 md:pb-20" id="main">

            {% block main %}
            {% endblock main %}
        </div>
    </main>

    <footer class="absolute bottom-0 w-full bg-sky-700">
        <section class="max-w-[2000px] mx-auto flex justify-between content-center p-2 lg:p-5">

            <h2>Contact me on</h2>
            <ul>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </section>
    </footer>
        
</body>
</html>